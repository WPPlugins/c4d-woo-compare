!function(o){"use strict";var e={prefix:"c4d-woo-compare"};e.cookieName=e.prefix+"-cookie",e.current=function(){var a=o.cookie(e.cookieName);return a="undefined"!=typeof a?a.split(",").filter(Number):[]},e.cart=function(e){o.get({url:c4d_woo_compare.ajax_url,data:{action:"c4d_woo_compare_cart"}}).done(function(a){o(".c4d-woo-compare-cart__list").html(a),o(".c4d-woo-compare-cart__list_items").owlCarousel({items:5,navigation:!0,pagination:!1,navigationText:["",""]}),e&&e()})},e.hideList=function(e,a){a?o(".c4d-woo-compare-cart").removeClass("empty"):o(e).parents(".c4d-woo-compare-cart__list_items").find(".item").length<=1?o(e).parents(".c4d-woo-compare-cart").addClass("empty"):o(e).parents(".c4d-woo-compare-cart").removeClass("empty")},o(document).ready(function(){var a=o.cookie(e.cookieName),t=o(".c4d-woo-compare-cart__icon .number"),a=e.current();t.html(a.length),e.cart(),o(".c4d-woo-compare-cart__icon").fancybox({transitionIn:"elastic",transitionOut:"elastic",speedIn:600,speedOut:200,overlayShow:!0,autoSize:!0,scrolling:"yes",wrapCSS:"c4d-woo-compare"}),o("body").on("click",".c4d-woo-compare-button",function(a){a.preventDefault();var r=this,c=o(r).attr("data-id"),n=e.current();return o.inArray(c,n)<0&&(n.push(c),o.cookie(e.cookieName,n,{expires:30,path:"/"}),t.html(parseInt(t.html())+1),t.addClass("add-new"),o(r).addClass("added"),e.cart(function(){t.removeClass("add-new")})),!1}),o("body").on("click",".c4d-woo-compare-remove-item",function(a){a.preventDefault();var r=this,c=o(r).attr("data-id"),n=e.current(),i=o.inArray(c,n);return i>-1&&(n.splice(i,1),o.cookie(e.cookieName,n,{expires:30,path:"/"}),parseInt(t.html())>=1&&(t.html(parseInt(t.html())-1),o(".c4d-woo-compare-cart__list_header .number").html(parseInt(o(".c4d-woo-compare-cart__list_header .number").html())-1)),o('.c4d-woo-compare-button[data-id="'+c+'"]').removeClass("added"),o(r).parents(".item").addClass("remove"),setTimeout(function(){o(r).parents(".owl-item").remove()},500),n.length<1&&o.fancybox.close()),!1}),o(window).scroll(function(e){var a=o(window).scrollTop();a>0?o("body").hasClass("c4d-woo-compare-scroll")||(document.body.className+=" c4d-woo-compare-scroll"):o("body").hasClass("c4d-woo-compare-scroll")&&o("body").removeClass("c4d-woo-compare-scroll")})})}(jQuery);